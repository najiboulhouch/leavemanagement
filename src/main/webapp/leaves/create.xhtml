<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui" template="../template/template.xhtml">
	<ui:define name="head">New Leave Request</ui:define>
	<ui:define name="body">
		<h:form id="leaveRequestForm">
			<p:messages id="msgs" autoUpdate="true" style="margin-left:1em; margin-right:1em;" />
			<p:panel id="leaveRequestPanel" header="New Leave Request" style="margin-bottom:20px">
				<p:panelGrid style="width:100%;" id="leaveRequestPanelGrid">
					<p:row>
						<p:column>
							<p:outputLabel id="leaveRequestLabel" style="font-weight:bold;" styleClass="col-sm-12 col-form-label" for="leaveRequestText" value="Select leave type" />
						</p:column>
						<p:column>
							<p:selectOneMenu id="leaveRequestText" style="width:325px;" required="true" converter="#{leaveConverter}" 
							value="#{leaveApplicationController.leaveApplication.primaryKey.leave}">
								<f:selectItem itemLabel="Select One" itemValue="" noSelectionOption="true" />
								<f:selectItems value="#{leaveApplicationController.leaves}" var="leave" itemLabel="#{leave.leaveType.label}" itemValue="#{leave}" />
							</p:selectOneMenu>
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<p:outputLabel id="startDateLabel" style="font-weight:bold;"  styleClass="col-sm-12 col-form-label" for="startDateText" value="Start Date" />
						</p:column>
						<p:column>
							<p:calendar id="startDateText" styleClass="form-control-plaintext" required="true" mindate="today" mode="popup" pattern="yyyy-MM-dd" style="width:325px;"
							 value="#{leaveApplicationController.leaveApplication.dateStartLeave}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<p:outputLabel id="endDateLabel" style="font-weight:bold;" styleClass="col-sm-12 col-form-label" for="endDateText" value="End Date" />
						</p:column>
						<p:column>
							<p:calendar id="endDateText" styleClass="form-control-plaintext" mode="popup" required="true" mindate="today" pattern="yyyy-MM-dd" style="width:325px;"  value="#{leaveApplicationController.leaveApplication.dateEndLeave}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="2" style="text-align:center;">
							<p:commandButton value="Request for a Leave" ajax="false" id="requestLeaveButton" icon="fa fa-fw fa-arrow-circle-down"
							 action="#{leaveApplicationController.save}" />
						</p:column>
					</p:row>
				</p:panelGrid>
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>